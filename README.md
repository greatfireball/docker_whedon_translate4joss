# docker_whedon_translate4joss
Container for simple JOSS PDF generation

# Example
JOSS paper can be generated by to simple commands:
```
# ensure last version of the docker image
docker pull greatfireball/docker_whedon_translate4joss
# translate the paper.md in current folder into paper.pdf
docker run -u $(id -u):$(id -g) -it --rm -v $PWD:/data greatfireball/docker_whedon_translate4joss
# -u $(id -u):$(id -g) ensures, that the user inside the container is run the same user
# therefore paper.pdf will be accessable
```
# ENTRYPOINT definition
The entrypoint is defined as:
```
pandoc \
  -o paper.pdf \
  -V geometry:margin=1in \
  --filter pandoc-citeproc paper.md \
  --template /tmp/whedon/resources/latex.template \
  --variable formatted_doi=pending \
  -V joss_logo_path=/tmp/whedon/resources/joss-logo.png \
  --pdf-engine=xelatex
```

# CMD definition
The CMD is defined as:
```
--variable=repository:https://link-to-repo --variable=archive_doi:https://archive-doi
```
Therefore, those to variables `repository` and `archive_doi` can easily be modified while running the container:

```
docker run -it --rm -v $PWD:/data greatfireball/docker_whedon_translate4joss \
  --variable=repository:https://new-link-to-repo \
  --variable=archive_doi:https://doi.org/something
```
For deeper changing of the command to run, one need to speciefy a new ENTRYPOINT via docker's `--entrypoint` parameter.
